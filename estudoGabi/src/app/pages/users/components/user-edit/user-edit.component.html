
<app-breadcrumb
[dataTitle]="dataTitle"
[dataAction] = "dataAction">
</app-breadcrumb>
<div class="card">
  <div class="card-header">
    Dados do Usuário
  </div>
<ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
  <li [ngbNavItem]="1">
    <a ngbNavLink>Dados</a>
    <ng-template ngbNavContent>
      <div class="card-body mt-3">
        <form [formGroup]="user">
          <div class="row">
            <div class="col-7">
              <div class="form-group">
                <label for="name">Nome</label>
                <input type="text" class="form-control" id="name" formControlName="name" placeholder="Nome">
              </div>
            </div>

          </div>

          <div class="row mt-3">
            <div class="col-4">
              <div class="form-group">
                <label for="email">Email address</label>
                <input type="text" class="form-control" id="email" formControlName="email"  placeholder="Enter email">
              </div>
            </div>
            <div class="col-4">
              <div class="form-group">
                <label for="permission">Nível de Permissão</label>
                <input type="number" class="form-control" id="permission" formControlName="permission">
              </div>
            </div>
          </div>
          <!--<div class="form-group">
            <label for="serverId">ServerID</label>
            <input type="text" class="form-control" id="serverId" formControlName="serverId">
          </div>-->

        </form>
      </div>
    </ng-template>
  </li>
  <li [ngbNavItem]="2">
    <a ngbNavLink>Senha</a>
    <ng-template ngbNavContent>
      <form [formGroup]="userPassword">
      <div class="row">
        <div class="col-5">
          <div class="form-group">
            <label for="password">Nova Senha</label>
            <input type="password" class="form-control" id="password" formControlName="password" placeholder="Password" >
          </div>
          <div class="error-messages">
            <ng-container *ngFor="let error of error_messages.password">
              <div class="error-message" *ngIf="userPassword.get('password').hasError(error.type) && (userPassword.get('password').dirty || userPassword.get('password').touched)">
                {{ error.message }}
              </div>
            </ng-container>
          </div>
        </div>
       <div class="col-5">
          <div class="form-group">
            <label for="confirmPassword">Confirme a senha</label>
            <input type="password" class="form-control" id="confirmPassword" formControlName="confirmPassword" placeholder="Password" >
          </div>
          <div class="error-messages">
            <ng-container *ngFor="let error of error_messages.confirmPassword">
              <div class="error-message" *ngIf="userPassword.get('confirmPassword').hasError(error.type) && (userPassword.get('confirmPassword').dirty || userPassword.get('confirmPassword').touched)">
                {{ error.message }}
              </div>
            </ng-container>
          </div>
        </div>
      </div>
      </form>
    </ng-template>
  </li>
</ul>

<div [ngbNavOutlet]="nav" class="mt-2"></div>

<!--<pre>Active: {{ active }}</pre>-->


  <div class="card-footer d-flex justify-content-end">
    <button class="btn btn-primary mr-2" (click)="back()">Voltar</button>
    <button class="btn btn-primary" (click)="openVerticallyCentered(content)">Salvar</button>
  </div>
</div>
<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Confirmar alterações</h4>

  </div>
  <div class="modal-body">
    <p>Você tem certeza que deseja alterar esses dados?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-save" (click)="update()" (click)="modal.close('Close click')">Salvar Alterações</button>
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Cancelar</button>
  </div>
</ng-template>


<!--
  <form [formGroup]="userPassword">
    <div class="row">
    <div class="col-5">
      <div class="form-group">
        <label for="actualPassword">Senha Atual</label>
        <input type="password" class="form-control" id="actualPassword" formControlName="actualPassword" placeholder="Password" >
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-5">
      <div class="form-group">
        <label for="password">Nova Senha</label>
        <input type="password" class="form-control" id="password" formControlName="password" placeholder="Password" >
        <p>Nova Senha {{ userPassword.value | json}}</p>
      </div>
    </div>
   <div class="col-5">
      <div class="form-group">
        <label for="confirmPassword">Confirme a senha</label>
        <input type="password" class="form-control" id="confirmPassword" formControlName="confirmPassword" placeholder="Password" >
      </div>
    </div>
  </div>
  </form>
-->
